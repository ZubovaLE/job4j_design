# Экзамен. Ввод-вывод.

## Оглавление

1. [Что такое поток ввода-вывода?](#1-Что-такое-поток-вводавывода)
2. [Что такое Java IO?](#2-Что-такое-Java-IO)
3. [Что такое Java NIO?](#3-Что-такое-Java-NIO)
4. [Что такое Scanner?](#4-Что-такое-Scanner)
5. [Как работает Scanner внутри?](#5-Как-работает-Scanner-внутри)
6. [Какие базовые методы существуют в Scanner?](#6-Какие-базовые-методы-существуют-в-Scanner)
7. [Что такое байтовый поток? Как он реализован внутри?](#7-Что-такое-байтовый-поток-Как-он-реализован-внутри)
8. [Что такое символьный поток? Как он реализован внутри?](#8-Что-такое-символьный-поток-Как-он-реализован-внутри)
9. [Что такое буферизированный поток?](#9-Что-такое-буферизированный-поток)
10. [Что такое форматированный вывод? Какие механизмы позволяют осуществить форматированный вызов?](#10-Что-такое-форматированный-вывод-Какие-механизмы-позволяют-осуществить-форматированный-вызов)
11. [Как осуществляется ввод и вывод из командной строки?](#11-Как-осуществляется-ввод-и-вывод-из-командной-строки)
12. [Что такое класс Console? Расскажите его АПИ.](#12-Что-такое-класс-Console-Расскажите-его-АПИ)
13. [Что такое поток данных? Data stream.](#13-Что-такое-поток-данных-Data-stream)
14. [Что такое поток объектов, Object stream.](#14-Что-такое-поток-объектов-Object-stream)
15. [Что такое Path? Как он реализуется на разных ОС?](#15-Что-такое-Path-Как-он-реализуется-на-разных-ОС)
16. [Как получить список файлов?](#16-Как-получить-список-файлов)
17. [Как проверить что файловая сущность является файлом или папкой?](#17-Как-проверить-что-файловая-сущность-является-файлом-или-папкой)
18. [Как удалить файл?](#18-Как-удалить-файл)
19. [Как переместить файл?](#19-Как-переместить-файл)
20. [Как управлять аттрибутами файла?](#20-Как-управлять-аттрибутами-файла)
21. [Как создать файл?](#21-Как-создать-файл)
22. [Как создать директорию?](#22-Как-создать-директорию)
23. [Как записать в файл?](#23-Как-записать-в-файл)
24. [Как прочитать данные из файла?](#24-Как-прочитать-данные-из-файла)
25. [Что такое сокет?](#26-Что-такое-сокет)
26. [Какие виды сокетов есть в Java? С каким протоколом они работают?](#27-Какие-виды-сокетов-есть-в-Java-С-каким-протоколом-они-работают)
27. [Как отправить через сокет сообщение?](#27-Как-отправить-через-сокет-сообщение)
28. [Что такое логирование?](#28-Что-такое-логирование)
29. [Какие уровни логирования вы знаете?](#29-Какие-уровни-логирования-вы-знаете)
30. [Какая библиотека для логирования используется в курсе? Как ее настроить?](#30-Какая-библиотека-для-логирования-используется-в-курсе-Как-ее-настроить)
31. [Опишите из каких элементов состоит формат JSON](#31-Опишите-из-каких-элементов-состоит-формат-JSON)
32. [Как преобразовать POJO в/из json?](#32-Как-преобразовать-POJO-виз-json)
33. [Опишите из каких элементов состоит формат XML](#33-Опишите-из-каких-элементов-состоит-формат-XML)
34. [Как преобразовать POJO в/из xml?](#34-Как-преобразовать-POJO-виз-xml)

## 1 Что такое поток ввода-вывода?

Поток ввода-вывода - это некая абстракция, описывающая все устройства ввода-вывода, с которыми взаимодействует
программа. Т.е это логический объект, который поставляет или потребляет информацию.

[К оглавлению &#8593;](#Оглавление)

## 2 Что такое Java IO?

Java IO - потоковая система ввода-вывода, входящая в пакет java.io.

[К оглавлению &#8593;](#Оглавление)

## 3 Что такое Java NIO?

Java NIO - новая система ввода-вывода, входящая в пакет java.nio, которая была внедрена в 1.4 версии Java.

[К оглавлению &#8593;](#Оглавление)

## 4 Что такое Scanner?

Scanner - это класс, который используется для нахождения токенов среди данных источника.
_Токеном_ (или _лексемой_) называют последовательность символов, а сам процесс сканирования называется _лексическим
анализом_.

[К оглавлению &#8593;](#Оглавление)

## 5 Как работает Scanner внутри?

Scanner работает внутри как Iterator.

[К оглавлению &#8593;](#Оглавление)

## 6 Какие базовые методы существуют в Scanner?

Большинство методов можно разделить на hasTYPE и nextTYPE, где TYPE - это тип, по шаблону которого будет происходить
отделение токенов друг от друга.

[К оглавлению &#8593;](#Оглавление)

## 7 Что такое байтовый поток? Как он реализован внутри?

Байтовый поток работает с данными побайтово (8 бит). Он считывает информацию по байтам и выдаёт результат в виде байтов

[К оглавлению &#8593;](#Оглавление)

## 8 Что такое символьный поток? Как он реализован внутри?

Символьный поток в состоянии оперировать непосредственно символами в Юникоде. Он позволяет читать данные символ за
символом. Примеры символьных потоков: FileReader и FileWriter

[К оглавлению &#8593;](#Оглавление)

## 9 Что такое буферизированный поток?

Для оптимизации операций ввода-вывода используются буферизуемые потоки. Эти потоки добавляют к стандартным специальный
буфер в памяти, с помощью которого повышается производительность при чтении потоков и записи. BufferedInputStream и
BufferedOutputStream.

[К оглавлению &#8593;](#Оглавление)

## 10 Что такое форматированный вывод? Какие механизмы позволяют осуществить форматированный вызов?

Форматированный вывод - это преобразование формата, позволяющее выводить данные (строки, числа, время, дату) в требуемом
виде. Форматированный вывод нужно использовать вместо конкатенации строк.

%a Шестнадцатеричное число с плавающей точкой  
%b Булево значение  
%c Символ  
%d Десятичное целое %e Число в научной записи  
%f Десятичное число с плавающей точкой  
%h Хеш-код от аргумента  
%o Восьмеричное целое  
%n Символ переноса строки  
%t Время  
%x Шестнадцатеричное целое

[К оглавлению &#8593;](#Оглавление)

## 11 Как осуществляется ввод и вывод из командной строки?

Класс System содержит три переменные предопределенных потоков ввода-вывода: in, out и err

Переменная System.out ссылается на стандартный поток вывода. По умолчанию это консоль.  
Переменная System.in ссылается на стандартный поток ввода, которым по умолчанию является клавиатура.  
System.err - для ошибок.

[К оглавлению &#8593;](#Оглавление)

## 12 Что такое класс Console? Расскажите его АПИ.

Класс Console предназначен для работы с консолью. Он служит для ввода-вывода данных на консоль, если таковая имеется.  
Класс Console реализует интерфейс Flushable, и является служебным, поскольку он функционирует в основном через
стандартные потоки ввода-вывода System.in и System.out.  
Конструкторы в классе Console не предоставляются. Для создания экземпляра нужно вызвать метод System.console(), и если
консоль доступна, то возвращается ссылка на нее, а иначе - пустое значение null и тогда консольные операции ввода-вывода
невозможны.

Методы из класса Console:

+ void flush() - выводит на консоль все данные из буфера
+ Console format(String _форматирующая\_строка_, Object аргументы) - выводит на консоль указанные аргументы, используя
  формат, определяемый параметром _форматирующая\_строка_
+ Console printf(String _форматирующая\_строка_, Object аргументы): выводит на консоль строку с использованием
  форматирования (фактически то же самое, что и предыдущий метод)
+ String readLine() - Читает и возвращает символьную строку, введенную с клавиатуры. Ввод прекращается нажатием
  клавиши <Enter>. Если достигнут конец потока ввода с консоли, то возвращается пустое значение null. А если происходит
  неисправимая ошибка ввода, то генерируется исключение типа IOError
+ char[] readPassword()- читает и возвращает символьную строку, введенную с клавиатуры. Ввод прекращается нажатием
  клавиши <Enter>. **Введенная строка не выводится на экран.** Если достигнут конец потока ввода с консоли, то
  возвращается пустое значение null. А если происходит неисправимая ошибка ввода, то генерируется исключение типа
  IOError

[К оглавлению &#8593;](#Оглавление)

## 13 Что такое поток данных? Data stream.

Классы DataOutputStream и DataInputStream позволяют записывать и считывать данные примитивных типов (boolean, char,
byte, short, int, long, float, and double).

+ Реализуют интерфейсы DataOutput и DataInput + AutoCloseable, Closeable и Flushable
+ Расширяют классы FilterOutputStream (который расширяет OutputStream) и FilterInputStream (который расширяет
  InputStream).

Примеры методов:

+ writeDouble(double d)
+ readDouble()
+ writeBoolean(boolean b)
+ readInt()

[К оглавлению &#8593;](#Оглавление)

## 14 Что такое поток объектов, Object stream.

Существуют такие понятия, как **сериализация** и **десериализация** объектов.  
_Сериализация_ – процесс преобразования объектов в бинарный (т.е. последовательность битов) или текстовый формат.

_Десериализация_ – процесс преобразования сериализованных данных в объекты, т.е. операция, обратная сериализации.

Для сериализации объектов в поток используется метод writeObject, для чтения из потока - readObject класса
ObjectInputStream. ObjectOutputStream используется для конвертации объектов в поток. В java это называется сериализация.
Объект преобразоыванный таким образом может быть сохранен в базу данных, передан по сети и т.п.

[К оглавлению &#8593;](#Оглавление)

## 15 Что такое Path? Как он реализуется на разных ОС?

[К оглавлению &#8593;](#Оглавление)

## 16 Как получить список файлов?

[К оглавлению &#8593;](#Оглавление)

## 17 Как проверить что файловая сущность является файлом или папкой?

[К оглавлению &#8593;](#Оглавление)

## 18 Как удалить файл?

[К оглавлению &#8593;](#Оглавление)

## 19 Как переместить файл?

[К оглавлению &#8593;](#Оглавление)

## 20 Как управлять аттрибутами файла?

[К оглавлению &#8593;](#Оглавление)

## 21 Как создать файл?

[К оглавлению &#8593;](#Оглавление)

## 22 Как создать директорию?

[К оглавлению &#8593;](#Оглавление)

## 23 Как записать в файл?

[К оглавлению &#8593;](#Оглавление)

## 24 Как прочитать данные из файла?

[К оглавлению &#8593;](#Оглавление)

## 25 Что такое сокет?

[К оглавлению &#8593;](#Оглавление)

## 26 Какие виды сокетов есть в Java? С каким протоколом они работают?

[К оглавлению &#8593;](#Оглавление)

## 27 Как отправить через сокет сообщение?

[К оглавлению &#8593;](#Оглавление)

## 28 Что такое логирование?

Процесс записи в файл полезной информации о работе программы. Полученный файл называют *лог-файлом*.

[К оглавлению &#8593;](#Оглавление)

## 29 Какие уровни логирования вы знаете?

В порядке уменьшения:

+ OFF - никакие логи не записываются (все будут проигнорированы)
+ FATAL - уровень ошибок, после которых приложение уже не сможет работать и будет остановлено (например, JVM out of
  memory error)
+ ERROR - уровень ошибок, когда есть проблемы, которые нужно решить, но сама ошибка не останавливает работу приложения в
  целом (остальные запросы могут работать корректно)
+ WARN - логи предостережения, т.е в приложении произошло непредвиденное действие, но система устояла и выполнила запрос
+ INFO - логи, которые записывают важные действия в приложении (ожидаемые действия системы)
+ DEBUG - логи, необходимые для отладки приложения, чтобы убедиться, что система делает то, что от неё ожидают
+ TRACE - менее приоритетные логи для отладки
+ ALL - все логи системы

Если какая-то запись относится к уровню, который ниже обозначенного, то она не вносится в лог. Все записи, относящиеся к
уровню логирования, выше обозначенного, также будут логироваться. Чем критичнее сообщение, тем выше должен быть уровень
логирования.

[К оглавлению &#8593;](#Оглавление)

## 30 Какая библиотека для логирования используется в курсе? Как ее настроить?

В курсе используется обёртка sl4j, которая позволяет абстрагироваться от конкретных библиотек, нужно лишь подключить
нужную реализацию. В данном крусе используется реализация log4j. Все настройки указываются в файле с расширением
.properties

Создаём файл /src/main/resources/log4j.properties. В нём указываем необходимые настройки. Например:

```
log4j.rootLogger=DEBUG,console
log4j.appender.console=org.apache.log4j.ConsoleAppender
log4j.appender.console.layout=org.apache.log4j.PatternLayout
log4j.appender.console.layout.ConversionPattern=%d{ISO8601} %5p %c:%M:%L - %m%n
log4j.appender.file=org.apache.log4j.RollingFileAppender
log4j.appender.file.File=./logInfo/logging.log
log4j.appender.file.threshold=INFO
log4j.appender.file.Append=false
log4j.appender.file.MaxBackupIndex=2
log4j.appender.file.layout=org.apache.log4j.PatternLayout
log4j.appender.file.layout.ConversionPattern=%d{ISO8601} %5p %c:%M:%L - %m%n
```

Разберём теперь построчно:  
Сначала регистрируем аппендеры.

- регистрируем аппендер console, который использует реализацию org.apache.log4j.ConsoleAppender. Этот аппендер
  записывает данные в консоль:

```
log4j.appender.console=org.apache.log4j.ConsoleAppender
```

- регистрируем аппендер file, который использует реализацию org.apache.log4j.RollingFileAppender. Этот аппендер
  записывает данные в файл:

```
log4j.appender.file=org.apache.log4j.RollingFileAppender
```

Имеем зарегистрированные аппендеры, поэтому можем определить, какой уровень логирования будет в узлах и какие при этом
аппендеры будут использоваться. Настроим главный узел (в котором находятся все логи):

```
log4j.rootLogger=DEBUG,console,file
```

DEBUG - указываем, с каким уровнем логирования (и выше) будут записываться логи, далее через запятую указываем все
аппендеры, которые будут использоваться

Чтобы настроить определённый узел логирования, нужно использовать следующую конструкцию:

```
log4j.logger.узел_логирования=TRACE,OWN,console
```

Если нужно задать уровень, с которого будет обрабатывать конкретный аппендер, используем следующую конструкцию:

```
log4j.appender.file.threshold=INFO
```

Т.е для аппендера file задаём уровень логирования INFO.

Далее определяем шаблон, который будет в сообщении:

```
log4j.appender.console.layout=org.apache.log4j.PatternLayout
log4j.appender.console.layout.ConversionPattern=%d{ISO8601} %5p %c:%M:%L - %m%n
```

%d{ISO8601} - дата %5p - уровень сообщения %c:%M:%L - класс, метод, строчка %m%n - текст сообщения

Дополнительные настройки аппендера file:

+ обозначаем, что файл нужно очищать, т.е при каждом запуске программы лог-файл очищается, и логи записываются уже в
  пустой файл

```
log4j.appender.file.Append=false
```

+ Указываем, какое максимальное количество таких файлов. Если создаётся больше, то первый будет удалён

```
log4j.appender.file.MaxBackupIndex=2
```

[К оглавлению &#8593;](#Оглавление)

## 31 Опишите из каких элементов состоит формат JSON

[К оглавлению &#8593;](#Оглавление)

## 32 Как преобразовать POJO в/из json?

[К оглавлению &#8593;](#Оглавление)

## 33 Опишите из каких элементов состоит формат XML

[К оглавлению &#8593;](#Оглавление)

## 34 Как преобразовать POJO в/из xml?

[К оглавлению &#8593;](#Оглавление)
